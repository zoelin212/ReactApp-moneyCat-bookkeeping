{"ast":null,"code":"import _defineProperty from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Loader from\"./Loading\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){// const [email, setEmail]= useState('');\n// const [password, setPassword]= useState('');\nvar history=useNavigate();var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),logInUser=_useState2[0],setLogInUser=_useState2[1];var handleChange=function handleChange(e){setLogInUser(_objectSpread(_objectSpread({},logInUser),{},_defineProperty({},e.target.name,e.target.value)));//console.log(logInUser);\n};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(\"submit works\");var sendLogInUser={email:logInUser.email,password:logInUser.password};console.log(sendLogInUser);axios.post(\"https://www.zoelindev.com/moneyCatBackend/login.php\",JSON.stringify({\"email\":document.querySelector(\"#email\").value,\"password\":document.querySelector(\"#password\").value})).then(function(response){if(response.data===1){// Store email in local storage\nlocalStorage.setItem(\"email\",logInUser.email);var sessionEmail=localStorage.getItem(\"email\");console.log(sessionEmail);alert('Welcome back!');history(\"/overview\");}else{console.log(response.data);alert('Invalid email or password.');}}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"loginPage\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"round\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/image/loginCat.png\",alt:\"Japanese torii cat\",className:\"loginCat\",width:\"1200\",height:\"1200\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"loginH1\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome Back!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"email\",name:\"email\",\"aria-label\":\"Email\",placeholder:\"Email\",required:true,value:logInUser.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\",className:\"password\",name:\"password\",\"aria-label\":\"Password\",placeholder:\"Password\",required:true,value:logInUser.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don\\u2019t have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/start\",children:\"Sign up\"})]})]});};export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","Loader","axios","Login","history","email","password","logInUser","setLogInUser","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","sendLogInUser","post","JSON","stringify","document","querySelector","then","response","data","localStorage","setItem","sessionEmail","getItem","alert","catch","error"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/pageComponents/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Loader from \"./Loading\";\nimport axios from \"axios\";\n\nconst Login =()=>{\n    // const [email, setEmail]= useState('');\n    // const [password, setPassword]= useState('');\n    \n    let history = useNavigate();\n\n    const [logInUser, setLogInUser] = useState ({\n      email:'',\n      password:''\n    })\n\n    const handleChange = (e) => {\n      setLogInUser({...logInUser, [e.target.name]: e.target.value});\n      //console.log(logInUser);\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      console.log(\"submit works\");\n\n      const sendLogInUser = {\n          email:logInUser.email,\n          password:logInUser.password\n      }\n      console.log(sendLogInUser);\n\n      axios.post(\"https://www.zoelindev.com/moneyCatBackend/login.php\" , JSON.stringify({ \n            \"email\": document.querySelector(\"#email\").value,  \n            \"password\": document.querySelector(\"#password\").value,  \n        })).then( (response) => { \n            if(response.data === 1) {\n              // Store email in local storage\n              localStorage.setItem(\"email\", logInUser.email);\n              const sessionEmail = localStorage.getItem(\"email\");\n              console.log(sessionEmail); \n              alert('Welcome back!');\n              history(`/overview`);\n            }else {\n              console.log(response.data); \n              alert('Invalid email or password.');\n            }\n        }).catch( error => { \n            console.log(error); \n        })\n    }\n\n\n    return (\n        <div className=\"loginPage\">\n            <Loader />\n\n            <div className=\"round\"></div>\n            <img src=\"/image/loginCat.png\" alt=\"Japanese torii cat\" className=\"loginCat\" width=\"1200\"\n            height=\"1200\"/>\n\n        <h1 className=\"loginH1\">Login</h1>\n        <p>Welcome Back!</p>\n\n        <form onSubmit={handleSubmit}>\n\n            <input \n            type=\"email\" \n            id=\"email\" \n            className=\"email\" \n            name=\"email\"\n            aria-label=\"Email\" placeholder=\"Email\" \n            required \n            value={logInUser.email}\n            onChange={handleChange}\n            />\n\n            <input \n            type=\"text\" \n            id=\"password\" \n            className=\"password\" \n            name=\"password\"\n            aria-label=\"Password\" placeholder=\"Password\" \n            required \n            value={logInUser.password}\n            onChange={handleChange}\n            />\n\n            <input type=\"submit\" value=\"Login\"/>\n        </form>\n\n        <p>Donâ€™t have an account? \n            <Link to=\"/start\">Sign up</Link>\n        </p>\n      </div>\n    );\n  }\n\n  export default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}