{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Header from\"../components/Header\";import axios from'axios';import{Link}from\"react-router-dom\";import\"./overview.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Overview=function Overview(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),totalCost=_useState2[0],setTotalCost=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),totalEarn=_useState4[0],setTotalEarn=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),balance=_useState6[0],setBalance=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),billing=_useState8[0],setBilling=_useState8[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var sessionEmail,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// Retrieve email from local storage\nsessionEmail=localStorage.getItem(\"email\");console.log(sessionEmail);_context.next=5;return axios.post('https://www.zoelindev.com/moneyCatBackend/print.php',{email:sessionEmail});case 5:response=_context.sent;console.log(response);if(response.status===200){setTotalCost(response.data.totalCost);setTotalEarn(response.data.totalEarn);setBalance(response.data.totalEarn-response.data.totalCost);setBilling(response.data.billing);console.log(response);}else{console.log('Error: Status code '+response.status);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('Error: '+_context.t0.message);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return _fetchData.apply(this,arguments);}fetchData();},[]);useEffect(function(){if(billing){var now=new Date();var StartDate=new Date(now.getFullYear(),now.getMonth()-1,billing);var EndDate=new Date(now.getFullYear(),now.getMonth(),billing-1);var formatStartDate=StartDate.toISOString().slice(0,10);var formatEndDate=EndDate.toISOString().slice(0,10);localStorage.setItem(\"startDate\",formatStartDate);var sessionStartDate=localStorage.getItem(\"startDate\");localStorage.setItem(\"endDate\",formatEndDate);var sessionEndDate=localStorage.getItem(\"endDate\");console.log(sessionStartDate);console.log(sessionEndDate);}},[billing]);return/*#__PURE__*/_jsxs(\"div\",{className:\"overviewPage\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contain\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgBox\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/sleeping.jpg\",alt:\"A gril is sleeping with a fat cat\",className:\"sleeping\",width:\"1920\",height:\"2559\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_direction_grid\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"redBtn\",children:[\"Balance: \",/*#__PURE__*/_jsxs(\"span\",{className:\"total\",children:[\"$\",balance]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"greenBtn\",children:[\"Spend: \",/*#__PURE__*/_jsxs(\"span\",{className:\"total\",children:[\"$\",totalCost]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"greenBtn\",children:[\"Income: \",/*#__PURE__*/_jsxs(\"span\",{className:\"total\",children:[\"$\",totalEarn]})]})]})]})]}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/chart_spend\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/icons/tray.svg\",alt:\"Icon for monthly chart\",className:\"tray\"})}),/*#__PURE__*/_jsx(Link,{to:\"/overview\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/icons/overCat.svg\",alt:\"Icon for overview page\",className:\"overCat\"})}),/*#__PURE__*/_jsx(Link,{to:\"/input_spend\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/icons/calculater.svg\",alt:\"Icon for bookkeeping calculater\",className:\"calculater\"})})]})]});};export default Overview;","map":{"version":3,"names":["useState","useEffect","Header","axios","Link","Overview","totalCost","setTotalCost","totalEarn","setTotalEarn","balance","setBalance","billing","setBilling","fetchData","sessionEmail","localStorage","getItem","console","log","post","email","response","status","data","message","now","Date","StartDate","getFullYear","getMonth","EndDate","formatStartDate","toISOString","slice","formatEndDate","setItem","sessionStartDate","sessionEndDate"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/pageComponents/Overview.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport \"./overview.css\"\n\nconst Overview = () => {\n  const [totalCost, setTotalCost] = useState('');\n  const [totalEarn, setTotalEarn] = useState('');\n  const [balance, setBalance] = useState('');\n  const [billing,setBilling] = useState();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        // Retrieve email from local storage\n        const sessionEmail = localStorage.getItem(\"email\");\n        console.log(sessionEmail);\n        const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/print.php', {\n          email: sessionEmail,\n        });\n        console.log(response);\n\n        if (response.status === 200) {\n          setTotalCost(response.data.totalCost);\n          setTotalEarn(response.data.totalEarn);\n          setBalance(response.data.totalEarn - response.data.totalCost);\n          setBilling(response.data.billing);\n          console.log(response);\n\n          \n        } else {\n          console.log('Error: Status code ' + response.status);\n        }\n      } catch (error) {\n        console.log('Error: ' + error.message);\n      }\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (billing) {\n      const now = new Date();\n      const StartDate = new Date(now.getFullYear(), now.getMonth()- 1, billing);\n      const EndDate = new Date(now.getFullYear(), now.getMonth(), billing - 1);\n      const formatStartDate = StartDate.toISOString().slice(0, 10);\n      const formatEndDate = EndDate.toISOString().slice(0, 10);\n\n      localStorage.setItem(\"startDate\", formatStartDate);\n      const sessionStartDate = localStorage.getItem(\"startDate\");\n\n      localStorage.setItem(\"endDate\", formatEndDate);\n      const sessionEndDate = localStorage.getItem(\"endDate\");\n\n      console.log(sessionStartDate);\n      console.log(sessionEndDate);\n\n    }\n  }, [billing]);\n\n  return (\n    <div className=\"overviewPage\">\n      <Header/>\n      <div className=\"contain\">\n\n        <div className=\"imgBox\">\n          <img src=\"./image/sleeping.jpg\" alt=\"A gril is sleeping with a fat cat\" className=\"sleeping\" width=\"1920\" height=\"2559\"/>\n        </div>\n\n        <div className=\"flex_direction_grid\">\n          <p className=\"redBtn\">Balance: <span className=\"total\">${balance}</span></p>\n          <div className=\"flex\">\n            <p className=\"greenBtn\">Spend: <span className=\"total\">${totalCost}</span></p>\n            <p className=\"greenBtn\">Income: <span className=\"total\">${totalEarn}</span></p>\n          </div>\n        </div>\n      </div>\n      <footer>\n        <Link to=\"/chart_spend\">\n        <img src=\"./image/icons/tray.svg\" alt=\"Icon for monthly chart\" className=\"tray\"/></Link>\n\n        <Link to=\"/overview\">\n        <img src=\"./image/icons/overCat.svg\" alt=\"Icon for overview page\" className=\"overCat\"/></Link>\n\n        <Link to=\"/input_spend\">\n        <img src=\"./image/icons/calculater.svg\" alt=\"Icon for bookkeeping calculater\" className=\"calculater\"/></Link>\n      </footer>\n    </div>\n  );\n}\n\nexport default Overview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}