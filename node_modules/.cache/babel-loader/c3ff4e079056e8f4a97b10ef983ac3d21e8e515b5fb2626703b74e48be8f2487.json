{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCaretDown,faCaretUp,faCircle}from'@fortawesome/free-solid-svg-icons';import axios from'axios';import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Open(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),cost=_useState4[0],setCost=_useState4[1];var sessionEmail=localStorage.getItem(\"email\");//location\nvar location=useLocation();var path=location.pathname;//console.log(path);\nfunction handleClick(){setIsOpen(!isOpen);}useEffect(function(){if(props.startDate&&props.endDate){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(path==='/chart_spend')){_context.next=8;break;}_context.next=4;return axios.post('https://www.zoelindev.com/moneyCatBackend/typelist.php',{email:sessionEmail,startDate:props.startDate,endDate:props.endDate});case 4:response=_context.sent;setCost(response.data);_context.next=12;break;case 8:_context.next=10;return axios.post('https://www.zoelindev.com/moneyCatBackend/typelistIncome.php',{email:sessionEmail,startDate:props.startDate,endDate:props.endDate});case 10:_response=_context.sent;setCost(_response.data);case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();}},[sessionEmail,props.startDate,props.endDate]);var icon=isOpen?faCaretUp:faCaretDown;var circle=faCircle;var circleId='circle_'+props.title;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:handleClick,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:icon}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:circle,id:circleId}),/*#__PURE__*/_jsxs(\"span\",{className:\"subtitle\",children:[props.title,\" $\",props.cost]})]}),isOpen&&props.children]});}export default Open;","map":{"version":3,"names":["React","useState","useEffect","FontAwesomeIcon","faCaretDown","faCaretUp","faCircle","axios","useLocation","Open","props","isOpen","setIsOpen","cost","setCost","sessionEmail","localStorage","getItem","location","path","pathname","handleClick","startDate","endDate","fetchData","post","email","response","data","console","error","icon","circle","circleId","title","children"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/components/Open.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretDown, faCaretUp, faCircle } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport { useLocation } from \"react-router-dom\";\n\nfunction Open(props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [cost, setCost] = useState({});\n  const sessionEmail = localStorage.getItem(\"email\");\n\n  //location\n  const location = useLocation();\n  const path = location.pathname;\n  //console.log(path);\n\n  function handleClick() {\n    setIsOpen(!isOpen);\n  }\n\n    useEffect(() => {\n        if (props.startDate && props.endDate) {\n        const fetchData = async () => {\n            try {\n                if(path === '/chart_spend'){\n                    const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/typelist.php', {\n                        email: sessionEmail,\n                        startDate: props.startDate,\n                        endDate: props.endDate\n                    });\n                    setCost(response.data);\n                }else {\n                    const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/typelistIncome.php', {\n                        email: sessionEmail,\n                        startDate: props.startDate,\n                        endDate: props.endDate\n                    });\n                    setCost(response.data);\n                }\n            \n            } catch (error) {\n            console.error(error);\n            }\n        };\n        fetchData();\n        }\n    }, [sessionEmail, props.startDate, props.endDate]);\n\n  const icon = isOpen ? faCaretUp : faCaretDown;\n  const circle =  faCircle;\n  const circleId = 'circle_'+ props.title;\n\n  return (\n    <div>\n      <div onClick={handleClick}>\n        <FontAwesomeIcon icon={icon} />\n        <FontAwesomeIcon icon={circle} id={circleId}/>\n        <span className='subtitle'>{props.title} ${props.cost}</span>\n      </div>\n      {isOpen && props.children}\n    </div>\n  );\n}\n\nexport default Open;\n"],"mappings":"6YAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,mCAAmC,CACpF,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,QAASC,KAAI,CAACC,KAAK,CAAE,CACnB,cAA4BT,QAAQ,CAAC,KAAK,CAAC,wCAApCU,MAAM,eAAEC,SAAS,eACxB,eAAwBX,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA7BY,IAAI,eAAEC,OAAO,eACpB,GAAMC,aAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAElD;AACA,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAC9B,GAAMW,KAAI,CAAGD,QAAQ,CAACE,QAAQ,CAC9B;AAEA,QAASC,YAAW,EAAG,CACrBT,SAAS,CAAC,CAACD,MAAM,CAAC,CACpB,CAEET,SAAS,CAAC,UAAM,CACZ,GAAIQ,KAAK,CAACY,SAAS,EAAIZ,KAAK,CAACa,OAAO,CAAE,CACtC,GAAMC,UAAS,4FAAG,gLAEPL,IAAI,GAAK,cAAc,gDACCZ,MAAK,CAACkB,IAAI,CAAC,wDAAwD,CAAE,CACxFC,KAAK,CAAEX,YAAY,CACnBO,SAAS,CAAEZ,KAAK,CAACY,SAAS,CAC1BC,OAAO,CAAEb,KAAK,CAACa,OACnB,CAAC,CAAC,QAJII,QAAQ,eAKdb,OAAO,CAACa,QAAQ,CAACC,IAAI,CAAC,CAAC,qDAEArB,MAAK,CAACkB,IAAI,CAAC,8DAA8D,CAAE,CAC9FC,KAAK,CAAEX,YAAY,CACnBO,SAAS,CAAEZ,KAAK,CAACY,SAAS,CAC1BC,OAAO,CAAEb,KAAK,CAACa,OACnB,CAAC,CAAC,SAJII,SAAQ,eAKdb,OAAO,CAACa,SAAQ,CAACC,IAAI,CAAC,CAAC,yFAI/BC,OAAO,CAACC,KAAK,aAAO,CAAC,oEAExB,kBArBKN,UAAS,0CAqBd,CACDA,SAAS,EAAE,CACX,CACJ,CAAC,CAAE,CAACT,YAAY,CAAEL,KAAK,CAACY,SAAS,CAAEZ,KAAK,CAACa,OAAO,CAAC,CAAC,CAEpD,GAAMQ,KAAI,CAAGpB,MAAM,CAAGN,SAAS,CAAGD,WAAW,CAC7C,GAAM4B,OAAM,CAAI1B,QAAQ,CACxB,GAAM2B,SAAQ,CAAG,SAAS,CAAEvB,KAAK,CAACwB,KAAK,CAEvC,mBACE,oCACE,aAAK,OAAO,CAAEb,WAAY,wBACxB,KAAC,eAAe,EAAC,IAAI,CAAEU,IAAK,EAAG,cAC/B,KAAC,eAAe,EAAC,IAAI,CAAEC,MAAO,CAAC,EAAE,CAAEC,QAAS,EAAE,cAC9C,cAAM,SAAS,CAAC,UAAU,WAAEvB,KAAK,CAACwB,KAAK,CAAC,IAAE,CAACxB,KAAK,CAACG,IAAI,GAAQ,GACzD,CACLF,MAAM,EAAID,KAAK,CAACyB,QAAQ,GACrB,CAEV,CAEA,cAAe1B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}