{"ast":null,"code":"import _toConsumableArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){var email=_ref.email,startDate=_ref.startDate,endDate=_ref.endDate,type=_ref.type;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),spendDetails=_useState2[0],setSpendDetails=_useState2[1];//location\nvar location=useLocation();var path=location.pathname;//console.log(path);\nuseEffect(function(){if(path==='/chart_spend'){axios.post('https://www.zoelindev.com/moneyCatBackend/list.php',{email:email,startDate:startDate,endDate:endDate,type:type}).then(function(response){setSpendDetails(response.data[type]||[]);}).catch(function(error){console.error(error);});}else{axios.post('https://www.zoelindev.com/moneyCatBackend/listIncome.php',{email:email,startDate:startDate,endDate:endDate,type:type}).then(function(response){setSpendDetails(response.data[type]||[]);}).catch(function(error){console.error(error);});}},[email,startDate,endDate,type]);function formatDate(dateString){var utcDate=new Date(dateString);var localDate=new Date(utcDate.getTime()+utcDate.getTimezoneOffset()*60*1000);var month=new Intl.DateTimeFormat('en-CA',{month:'short'}).format(localDate);var day=localDate.getDate();return\"\".concat(month,\" \").concat(day);}function removeSpendDetail(index){var updatedSpendDetails=_toConsumableArray(spendDetails);var id=updatedSpendDetails[index].id;updatedSpendDetails.splice(index,1);setSpendDetails(updatedSpendDetails);if(path==='/chart_spend'){axios.post('https://www.zoelindev.com/moneyCatBackend/remove.php',{id:id}).then(function(response){console.log(response.data);}).catch(function(error){console.error(error);});}else{axios.post('https://www.zoelindev.com/moneyCatBackend/removeIncome.php',{id:id}).then(function(response){console.log(response.data);}).catch(function(error){console.error(error);});}}return/*#__PURE__*/_jsx(\"div\",{children:spendDetails.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"listBox\",children:spendDetails.map(function(_ref2,index){var id=_ref2.id,date=_ref2.date,note=_ref2.note,cost=_ref2.cost;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatDate(date)}),/*#__PURE__*/_jsx(\"span\",{children:note}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$ \",cost]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove\",onClick:function onClick(){return removeSpendDetail(index);},children:\"Remove\"})]},\"\".concat(id,\"-\").concat(date,\"-\").concat(note,\"-\").concat(cost)),/*#__PURE__*/_jsx(\"hr\",{})]});})}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No spend details found for \",type,\".\"]})});}export default List;","map":{"version":3,"names":["React","useState","useEffect","axios","useLocation","List","email","startDate","endDate","type","spendDetails","setSpendDetails","location","path","pathname","post","then","response","data","catch","error","console","formatDate","dateString","utcDate","Date","localDate","getTime","getTimezoneOffset","month","Intl","DateTimeFormat","format","day","getDate","removeSpendDetail","index","updatedSpendDetails","id","splice","log","length","map","date","note","cost"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/components/List.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useLocation } from \"react-router-dom\";\n\nfunction List({ email, startDate, endDate, type}) {\n    const [spendDetails, setSpendDetails] = useState([]);\n\n    //location\n    const location = useLocation();\n    const path = location.pathname;\n    //console.log(path);\n  \n    useEffect(() => {\n        if(path === '/chart_spend'){\n            axios.post('https://www.zoelindev.com/moneyCatBackend/list.php', { email, startDate, endDate, type }).then((response) => {\n                setSpendDetails(response.data[type] || []);\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n        }else {\n            axios.post('https://www.zoelindev.com/moneyCatBackend/listIncome.php', { email, startDate, endDate, type }).then((response) => {\n                setSpendDetails(response.data[type] || []);\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n        }\n    }, [email, startDate, endDate, type]);\n    \n    function formatDate(dateString) {\n      const utcDate = new Date(dateString);\n      const localDate = new Date(utcDate.getTime() + utcDate.getTimezoneOffset() * 60 * 1000);\n      const month = new Intl.DateTimeFormat('en-CA', { month: 'short' }).format(localDate);\n      const day = localDate.getDate();\n      return `${month} ${day}`;\n    }\n\n  function removeSpendDetail(index) {\n    const updatedSpendDetails = [...spendDetails];\n    const id = updatedSpendDetails[index].id;\n    updatedSpendDetails.splice(index, 1);\n    setSpendDetails(updatedSpendDetails);\n\n    if(path === '/chart_spend'){\n        axios.post('https://www.zoelindev.com/moneyCatBackend/remove.php', { id })\n        .then((response) => {\n            console.log(response.data);\n        })\n        .catch((error) => {\n            console.error(error);\n        });\n    }else {\n        axios.post('https://www.zoelindev.com/moneyCatBackend/removeIncome.php', { id })\n        .then((response) => {\n            console.log(response.data);\n        })\n        .catch((error) => {\n            console.error(error);\n        });\n    }\n  }\n\n  return (\n    <div>\n      {spendDetails.length > 0 ? (\n        <div className='listBox'>\n          {spendDetails.map(({ id, date, note, cost }, index) => (\n            <div>\n            <div key={`${id}-${date}-${note}-${cost}`} className=\"list\">\n              <span>{formatDate(date)}</span> \n              <span>{note}</span>\n              <span>$ {cost}</span>\n              <button className='remove' onClick={() => removeSpendDetail(index)}>Remove</button>\n            </div>\n            <hr/>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p>No spend details found for {type}.</p>\n      )}\n    </div>\n  );\n}\n\nexport default List;\n"],"mappings":"sQAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,QAASC,KAAI,MAAqC,IAAlCC,MAAK,MAALA,KAAK,CAAEC,SAAS,MAATA,SAAS,CAAEC,OAAO,MAAPA,OAAO,CAAEC,IAAI,MAAJA,IAAI,CAC3C,cAAwCR,QAAQ,CAAC,EAAE,CAAC,wCAA7CS,YAAY,eAAEC,eAAe,eAEpC;AACA,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAC9B,GAAMS,KAAI,CAAGD,QAAQ,CAACE,QAAQ,CAC9B;AAEAZ,SAAS,CAAC,UAAM,CACZ,GAAGW,IAAI,GAAK,cAAc,CAAC,CACvBV,KAAK,CAACY,IAAI,CAAC,oDAAoD,CAAE,CAAET,KAAK,CAALA,KAAK,CAAEC,SAAS,CAATA,SAAS,CAAEC,OAAO,CAAPA,OAAO,CAAEC,IAAI,CAAJA,IAAK,CAAC,CAAC,CAACO,IAAI,CAAC,SAACC,QAAQ,CAAK,CACrHN,eAAe,CAACM,QAAQ,CAACC,IAAI,CAACT,IAAI,CAAC,EAAI,EAAE,CAAC,CAC5C,CAAC,CAAC,CACDU,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACR,CAAC,IAAK,CACFjB,KAAK,CAACY,IAAI,CAAC,0DAA0D,CAAE,CAAET,KAAK,CAALA,KAAK,CAAEC,SAAS,CAATA,SAAS,CAAEC,OAAO,CAAPA,OAAO,CAAEC,IAAI,CAAJA,IAAK,CAAC,CAAC,CAACO,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC3HN,eAAe,CAACM,QAAQ,CAACC,IAAI,CAACT,IAAI,CAAC,EAAI,EAAE,CAAC,CAC5C,CAAC,CAAC,CACDU,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACR,CACJ,CAAC,CAAE,CAACd,KAAK,CAAEC,SAAS,CAAEC,OAAO,CAAEC,IAAI,CAAC,CAAC,CAErC,QAASa,WAAU,CAACC,UAAU,CAAE,CAC9B,GAAMC,QAAO,CAAG,GAAIC,KAAI,CAACF,UAAU,CAAC,CACpC,GAAMG,UAAS,CAAG,GAAID,KAAI,CAACD,OAAO,CAACG,OAAO,EAAE,CAAGH,OAAO,CAACI,iBAAiB,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CACvF,GAAMC,MAAK,CAAG,GAAIC,KAAI,CAACC,cAAc,CAAC,OAAO,CAAE,CAAEF,KAAK,CAAE,OAAQ,CAAC,CAAC,CAACG,MAAM,CAACN,SAAS,CAAC,CACpF,GAAMO,IAAG,CAAGP,SAAS,CAACQ,OAAO,EAAE,CAC/B,gBAAUL,KAAK,aAAII,GAAG,EACxB,CAEF,QAASE,kBAAiB,CAACC,KAAK,CAAE,CAChC,GAAMC,oBAAmB,oBAAO3B,YAAY,CAAC,CAC7C,GAAM4B,GAAE,CAAGD,mBAAmB,CAACD,KAAK,CAAC,CAACE,EAAE,CACxCD,mBAAmB,CAACE,MAAM,CAACH,KAAK,CAAE,CAAC,CAAC,CACpCzB,eAAe,CAAC0B,mBAAmB,CAAC,CAEpC,GAAGxB,IAAI,GAAK,cAAc,CAAC,CACvBV,KAAK,CAACY,IAAI,CAAC,sDAAsD,CAAE,CAAEuB,EAAE,CAAFA,EAAG,CAAC,CAAC,CACzEtB,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChBI,OAAO,CAACmB,GAAG,CAACvB,QAAQ,CAACC,IAAI,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CAAC,CAAC,CACN,CAAC,IAAK,CACFjB,KAAK,CAACY,IAAI,CAAC,4DAA4D,CAAE,CAAEuB,EAAE,CAAFA,EAAG,CAAC,CAAC,CAC/EtB,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChBI,OAAO,CAACmB,GAAG,CAACvB,QAAQ,CAACC,IAAI,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CAAC,CAAC,CACN,CACF,CAEA,mBACE,qBACGV,YAAY,CAAC+B,MAAM,CAAG,CAAC,cACtB,YAAK,SAAS,CAAC,SAAS,UACrB/B,YAAY,CAACgC,GAAG,CAAC,eAA2BN,KAAK,KAA7BE,GAAE,OAAFA,EAAE,CAAEK,IAAI,OAAJA,IAAI,CAAEC,IAAI,OAAJA,IAAI,CAAEC,IAAI,OAAJA,IAAI,oBACvC,oCACA,aAA2C,SAAS,CAAC,MAAM,wBACzD,sBAAOvB,UAAU,CAACqB,IAAI,CAAC,EAAQ,cAC/B,sBAAOC,IAAI,EAAQ,cACnB,wBAAM,IAAE,CAACC,IAAI,GAAQ,cACrB,eAAQ,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMV,kBAAiB,CAACC,KAAK,CAAC,EAAC,UAAC,QAAM,EAAS,aAJxEE,EAAE,aAAIK,IAAI,aAAIC,IAAI,aAAIC,IAAI,EAKjC,cACN,aAAK,GACC,EACP,CAAC,EACE,cAEN,qBAAG,6BAA2B,CAACpC,IAAI,CAAC,GAAC,GACtC,EACG,CAEV,CAEA,cAAeJ,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}