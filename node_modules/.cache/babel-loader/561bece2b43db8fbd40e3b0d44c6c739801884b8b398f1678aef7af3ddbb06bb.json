{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Header from\"../components/Header\";import axios from'axios';//import { ReactSession } from 'react-client-session';\nimport{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Overview=function Overview(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),totalCost=_useState2[0],setTotalCost=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),totalEarn=_useState4[0],setTotalEarn=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),balance=_useState6[0],setBalance=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),billingDate=_useState8[0],setBillingDate=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),startDate=_useState10[0],setStartDate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),endDate=_useState12[0],setEndDate=_useState12[1];// useEffect(() => {\n//     async function fetchData() {\n//         try {\n//             // Retrieve email from local storage\n//             const sessionEmail = localStorage.getItem(\"email\");\n//             console.log(sessionEmail);\n//             const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/dateRangeForm.php', {\n//                 email: sessionEmail });\n//             const data = response.data;\n//             setBillingDate(data.billing);\n//             if (data) {\n//             console.log('connect works');\n//             } else {\n//             console.log('Error: Status code ' + response.status);\n//             }\n//         } catch (error) {\n//         console.log('Error: ' + error.message);\n//         }\n//     }\n//     fetchData();\n//     }, []);\n//   const now = new Date();\n//   const monthStartDate = new Date(now.getFullYear(), now.getMonth() + 1, billingDate);\n//   const monthEndDate = new Date(now.getFullYear(), now.getMonth() +2 , billingDate - 1);\n//   setStartDate(monthStartDate.toISOString().slice(0, 10));\n//   setEndDate(monthEndDate.toISOString().slice(0, 10));\n//   console.log(startDate, endDate)\nuseEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var sessionEmail,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// Retrieve email from local storage\nsessionEmail=localStorage.getItem(\"email\");console.log(sessionEmail);_context.next=5;return axios.post('https://www.zoelindev.com/moneyCatBackend/print.php',{email:sessionEmail,startDate:startDate,endDate:endDate});case 5:response=_context.sent;if(response.status===200){setTotalCost(response.data.totalCost);setTotalEarn(response.data.totalEarn);setBalance(response.data.totalEarn-response.data.totalCost);}else{console.log('Error: Status code '+response.status);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log('Error: '+_context.t0.message);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"overviewPage\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"img\",{src:\"/image/sleeping.jpg\",alt:\"A gril is sleeping with a fat cat\",className:\"sleeping\",width:\"1920\",height:\"2559\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_direction_grid\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Balance: \",balance]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Spend: \",totalCost]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Income: \",totalEarn]})]})]}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/chart_spend\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/tray.svg\",alt:\"Icon for monthly chart\",className:\"tray\"})}),/*#__PURE__*/_jsx(Link,{to:\"/overview\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/overCat.svg\",alt:\"Icon for overview page\",className:\"overCat\"})}),/*#__PURE__*/_jsx(Link,{to:\"/input_spend\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/calculater.svg\",alt:\"Icon for bookkeeping calculater\",className:\"calculater\"})})]})]});};export default Overview;","map":{"version":3,"names":["useState","useEffect","Header","axios","Link","Overview","totalCost","setTotalCost","totalEarn","setTotalEarn","balance","setBalance","billingDate","setBillingDate","startDate","setStartDate","endDate","setEndDate","fetchData","sessionEmail","localStorage","getItem","console","log","post","email","response","status","data","message"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/pageComponents/Overview.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport axios from 'axios';\n//import { ReactSession } from 'react-client-session';\nimport { Link } from \"react-router-dom\";\n\nconst Overview = () => {\n    const [totalCost, setTotalCost] = useState('');\n    const [totalEarn, setTotalEarn] = useState('');\n    const [balance, setBalance] = useState('');\n    const [billingDate, setBillingDate] = useState(null);\n    const [startDate, setStartDate] = useState();\n    const [endDate, setEndDate] = useState();\n\n    // useEffect(() => {\n    //     async function fetchData() {\n    //         try {\n    //             // Retrieve email from local storage\n    //             const sessionEmail = localStorage.getItem(\"email\");\n    //             console.log(sessionEmail);\n    //             const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/dateRangeForm.php', {\n    //                 email: sessionEmail });\n    //             const data = response.data;\n    //             setBillingDate(data.billing);\n    \n    //             if (data) {\n    //             console.log('connect works');\n    //             } else {\n    //             console.log('Error: Status code ' + response.status);\n    //             }\n    //         } catch (error) {\n    //         console.log('Error: ' + error.message);\n    //         }\n    //     }\n    //     fetchData();\n    //     }, []);\n\n    //   const now = new Date();\n    //   const monthStartDate = new Date(now.getFullYear(), now.getMonth() + 1, billingDate);\n    //   const monthEndDate = new Date(now.getFullYear(), now.getMonth() +2 , billingDate - 1);\n    //   setStartDate(monthStartDate.toISOString().slice(0, 10));\n    //   setEndDate(monthEndDate.toISOString().slice(0, 10));\n    //   console.log(startDate, endDate)\n\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n            // Retrieve email from local storage\n            const sessionEmail = localStorage.getItem(\"email\");\n            console.log(sessionEmail);\n            \n            const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/print.php', {\n                email: sessionEmail,\n                startDate: startDate,\n                endDate: endDate\n            });\n\n            if (response.status === 200) {\n            setTotalCost(response.data.totalCost);\n            setTotalEarn(response.data.totalEarn);\n            setBalance(response.data.totalEarn - response.data.totalCost);\n            } else {\n            console.log('Error: Status code ' + response.status);\n            }\n      } catch (error) {\n        console.log('Error: ' + error.message);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"overviewPage\">\n      <Header/>\n      <img src=\"/image/sleeping.jpg\" alt=\"A gril is sleeping with a fat cat\" className=\"sleeping\" width=\"1920\" height=\"2559\"/>\n      <div className=\"flex_direction_grid\">\n        <p>Balance: {balance}</p>\n        <div className=\"flex\">\n          <p>Spend: {totalCost}</p>\n          <p>Income: {totalEarn}</p>\n        </div>\n      </div>\n      <footer>\n        <Link to=\"/chart_spend\">\n        <img src=\"/image/icons/tray.svg\" alt=\"Icon for monthly chart\" className=\"tray\"/></Link>\n\n        <Link to=\"/overview\">\n        <img src=\"/image/icons/overCat.svg\" alt=\"Icon for overview page\" className=\"overCat\"/></Link>\n\n        <Link to=\"/input_spend\">\n        <img src=\"/image/icons/calculater.svg\" alt=\"Icon for bookkeeping calculater\" className=\"calculater\"/></Link>\n      </footer>\n    </div>\n  );\n}\n\nexport default Overview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}