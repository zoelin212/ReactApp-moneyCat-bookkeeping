{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import Header from\"../components/Header\";import{useState,useEffect}from'react';import Open from'../components/Open';import DateRangeForm from\"../components/DateRangeForm\";import axios from\"axios\";import List from\"../components/List\";import Donut from\"../components/Donut\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChartSpend=function ChartSpend(props){var sessionEmail=localStorage.getItem(\"email\");var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cost=_useState2[0],setCost=_useState2[1];var _useState3=useState(localStorage.getItem(\"startDate\")),_useState4=_slicedToArray(_useState3,2),startDate=_useState4[0],setStartDate=_useState4[1];var _useState5=useState(localStorage.getItem(\"endDate\")),_useState6=_slicedToArray(_useState5,2),endDate=_useState6[0],setEndDate=_useState6[1];console.log(localStorage.getItem(\"startDate\"));var notThisPageStyle={color:'var(--pink)'};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('https://www.zoelindev.com/moneyCatBackend/typelistIncome.php',{email:sessionEmail,startDate:startDate,endDate:endDate});case 3:response=_context.sent;setCost(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[sessionEmail,startDate,endDate]);var handleDateRangeChange=function handleDateRangeChange(selectedOption){setStartDate(selectedOption.startDate);setEndDate(selectedOption.endDate);};return/*#__PURE__*/_jsxs(\"div\",{className:\"chartWrap\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"round3\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Monthly\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"op\",children:[/*#__PURE__*/_jsx(Link,{to:\"/chart_spend\",className:\"chartSpendBtn\",style:notThisPageStyle,children:\"Spend /\"}),/*#__PURE__*/_jsx(Link,{to:\"/chart_income\",className:\"chartIncomeBtn\",children:\"Income\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top\",onClick:handleDateRangeChange,children:[cost&&(cost.salay||cost.bonus||cost.sideline||cost.investment||cost.allowance||cost.stock||cost.tips||cost.othersIn)?/*#__PURE__*/_jsx(Donut,{cost:cost}):/*#__PURE__*/_jsx(\"img\",{src:\"./image/chartCat.png\",alt:\"Chart\",className:\"chartCat\"}),/*#__PURE__*/_jsx(DateRangeForm,{email:sessionEmail,onDateRangeChange:handleDateRangeChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"spendDetail\",children:[/*#__PURE__*/_jsx(Open,{title:\"Salay\",cost:cost['salay'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"salay\"})}),/*#__PURE__*/_jsx(Open,{title:\"Bonus\",cost:cost['bonus'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"bonus\"})}),/*#__PURE__*/_jsx(Open,{title:\"Sideline\",cost:cost['sideline'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"sideline\"})}),/*#__PURE__*/_jsx(Open,{title:\"Investment\",cost:cost['investment'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"investment\"})}),/*#__PURE__*/_jsx(Open,{title:\"Allowance\",cost:cost['allowance'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"allowance\"})}),/*#__PURE__*/_jsx(Open,{title:\"Stock\",cost:cost['stock'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"stock\"})}),/*#__PURE__*/_jsx(Open,{title:\"Tips\",cost:cost['tips'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"tips\"})}),/*#__PURE__*/_jsx(Open,{title:\"Others\",cost:cost['othersIn'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"othersIn\"})})]})]});};export default ChartSpend;","map":{"version":3,"names":["Link","Header","useState","useEffect","Open","DateRangeForm","axios","List","Donut","ChartSpend","props","sessionEmail","localStorage","getItem","cost","setCost","startDate","setStartDate","endDate","setEndDate","console","log","notThisPageStyle","color","fetchData","post","email","response","data","error","handleDateRangeChange","selectedOption","salay","bonus","sideline","investment","allowance","stock","tips","othersIn"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/pageComponents/Chart_income.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport { useState, useEffect } from 'react';\nimport Open from '../components/Open';\nimport DateRangeForm from \"../components/DateRangeForm\";\nimport axios from \"axios\";\nimport List from \"../components/List\";\nimport Donut from \"../components/Donut\";\n\n\n\nconst ChartSpend = (props) => {\n    const sessionEmail = localStorage.getItem(\"email\");\n    const [cost, setCost] = useState({});\n    const [startDate, setStartDate] = useState(localStorage.getItem(\"startDate\"));\n    const [endDate, setEndDate] = useState(localStorage.getItem(\"endDate\"));\n\n    console.log(localStorage.getItem(\"startDate\"));\n\n    const notThisPageStyle = {\n        color: 'var(--pink)',\n      }\n\n    useEffect(() => {\n        const fetchData = async () => {\n          try {\n            const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/typelistIncome.php', {\n              email: sessionEmail,\n              startDate: startDate,\n              endDate: endDate\n            });\n            setCost(response.data);\n          } catch (error) {\n            console.error(error);\n          }\n        };\n        fetchData();\n      }, [sessionEmail, startDate, endDate]);\n\n      const handleDateRangeChange = (selectedOption) => {\n        setStartDate(selectedOption.startDate);\n        setEndDate(selectedOption.endDate);\n      };\n\n\n    return (\n        <div className=\"chartWrap\">\n            <Header />\n            <div className=\"round3\"></div>\n            <h2>Monthly</h2>\n\n            <div className=\"op\">\n                <Link to=\"/chart_spend\" className=\"chartSpendBtn\"\n                style={notThisPageStyle}>\n                    Spend /\n                </Link>\n                <Link to=\"/chart_income\" className=\"chartIncomeBtn\">\n                    Income\n                </Link>\n            </div>\n\n            <div className=\"top\" onClick={handleDateRangeChange}>\n            {cost && (cost.salay || cost.bonus || cost.sideline || cost.investment || cost.allowance || cost.stock || cost.tips || cost.othersIn) ? <Donut cost={cost} /> : <img src=\"./image/chartCat.png\" alt=\"Chart\" className=\"chartCat\"/>}\n            \n            <DateRangeForm email={sessionEmail} onDateRangeChange={handleDateRangeChange} />\n            </div>\n\n            <div className=\"spendDetail\">\n                <Open title=\"Salay\" cost={cost['salay']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"salay\" />\n                </Open>\n                <Open title=\"Bonus\" cost={cost['bonus']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"bonus\" />\n                </Open>\n                <Open title=\"Sideline\" cost={cost['sideline']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"sideline\" />\n                </Open>\n                <Open title=\"Investment\" cost={cost['investment']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"investment\" />\n                </Open>\n                <Open title=\"Allowance\" cost={cost['allowance']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"allowance\" />\n                </Open>\n\n                <Open title=\"Stock\" cost={cost['stock']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"stock\" />\n                </Open>\n                <Open title=\"Tips\" cost={cost['tips']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"tips\" />\n                </Open>\n                \n                <Open title=\"Others\" cost={cost['othersIn']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"othersIn\" />\n                </Open>\n            </div>\n        </div>\n    );\n}\n\nexport default ChartSpend;\n"],"mappings":"6YAAA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,oBAAoB,CACrC,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,KAAI,KAAM,oBAAoB,CACrC,MAAOC,MAAK,KAAM,qBAAqB,CAAC,wFAIxC,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,KAAK,CAAK,CAC1B,GAAMC,aAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAClD,cAAwBX,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BY,IAAI,eAAEC,OAAO,eACpB,eAAkCb,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,yCAAtEG,SAAS,eAAEC,YAAY,eAC9B,eAA8Bf,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,yCAAhEK,OAAO,eAAEC,UAAU,eAE1BC,OAAO,CAACC,GAAG,CAACT,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAE9C,GAAMS,iBAAgB,CAAG,CACrBC,KAAK,CAAE,aACT,CAAC,CAEHpB,SAAS,CAAC,UAAM,CACZ,GAAMqB,UAAS,4FAAG,uLAESlB,MAAK,CAACmB,IAAI,CAAC,8DAA8D,CAAE,CAChGC,KAAK,CAAEf,YAAY,CACnBK,SAAS,CAAEA,SAAS,CACpBE,OAAO,CAAEA,OACX,CAAC,CAAC,QAJIS,QAAQ,eAKdZ,OAAO,CAACY,QAAQ,CAACC,IAAI,CAAC,CAAC,+EAEvBR,OAAO,CAACS,KAAK,aAAO,CAAC,mEAExB,kBAXKL,UAAS,0CAWd,CACDA,SAAS,EAAE,CACb,CAAC,CAAE,CAACb,YAAY,CAAEK,SAAS,CAAEE,OAAO,CAAC,CAAC,CAEtC,GAAMY,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIC,cAAc,CAAK,CAChDd,YAAY,CAACc,cAAc,CAACf,SAAS,CAAC,CACtCG,UAAU,CAACY,cAAc,CAACb,OAAO,CAAC,CACpC,CAAC,CAGH,mBACI,aAAK,SAAS,CAAC,WAAW,wBACtB,KAAC,MAAM,IAAG,cACV,YAAK,SAAS,CAAC,QAAQ,EAAO,cAC9B,oBAAI,SAAO,EAAK,cAEhB,aAAK,SAAS,CAAC,IAAI,wBACf,KAAC,IAAI,EAAC,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,eAAe,CACjD,KAAK,CAAEI,gBAAiB,UAAC,SAEzB,EAAO,cACP,KAAC,IAAI,EAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,UAAC,QAEpD,EAAO,GACL,cAEN,aAAK,SAAS,CAAC,KAAK,CAAC,OAAO,CAAEQ,qBAAsB,WACnDhB,IAAI,GAAKA,IAAI,CAACkB,KAAK,EAAIlB,IAAI,CAACmB,KAAK,EAAInB,IAAI,CAACoB,QAAQ,EAAIpB,IAAI,CAACqB,UAAU,EAAIrB,IAAI,CAACsB,SAAS,EAAItB,IAAI,CAACuB,KAAK,EAAIvB,IAAI,CAACwB,IAAI,EAAIxB,IAAI,CAACyB,QAAQ,CAAC,cAAG,KAAC,KAAK,EAAC,IAAI,CAAEzB,IAAK,EAAG,cAAG,YAAK,GAAG,CAAC,sBAAsB,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,cAElO,KAAC,aAAa,EAAC,KAAK,CAAEH,YAAa,CAAC,iBAAiB,CAAEmB,qBAAsB,EAAG,GAC1E,cAEN,aAAK,SAAS,CAAC,aAAa,wBACxB,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAEhB,IAAI,CAAC,OAAO,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAC5E,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,OAAO,EAAG,EAC/E,cACP,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAEJ,IAAI,CAAC,OAAO,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAC5E,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,OAAO,EAAG,EAC/E,cACP,KAAC,IAAI,EAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAEJ,IAAI,CAAC,UAAU,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAClF,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,UAAU,EAAG,EAClF,cACP,KAAC,IAAI,EAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAEJ,IAAI,CAAC,YAAY,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBACtF,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,YAAY,EAAG,EACpF,cACP,KAAC,IAAI,EAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAEJ,IAAI,CAAC,WAAW,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBACpF,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,WAAW,EAAG,EACnF,cAEP,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAEJ,IAAI,CAAC,OAAO,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAC5E,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,OAAO,EAAG,EAC/E,cACP,KAAC,IAAI,EAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAEJ,IAAI,CAAC,MAAM,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAC1E,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,MAAM,EAAG,EAC9E,cAEP,KAAC,IAAI,EAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAEJ,IAAI,CAAC,UAAU,CAAE,CAAC,SAAS,CAAEE,SAAU,CAAC,OAAO,CAAEE,OAAQ,uBAChF,KAAC,IAAI,EAAC,KAAK,CAAEP,YAAa,CAAC,SAAS,CAAEK,SAAU,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAC,UAAU,EAAG,EAClF,GACL,GACJ,CAEd,CAAC,CAED,cAAeT,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}