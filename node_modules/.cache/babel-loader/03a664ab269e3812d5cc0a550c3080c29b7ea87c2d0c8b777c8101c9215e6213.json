{"ast":null,"code":"import _toConsumableArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){var email=_ref.email,startDate=_ref.startDate,endDate=_ref.endDate,type=_ref.type;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),spendDetails=_useState2[0],setSpendDetails=_useState2[1];useEffect(function(){axios.post('https://www.zoelindev.com/moneyCatBackend/list.php',{email:email,startDate:startDate,endDate:endDate,type:type}).then(function(response){setSpendDetails(response.data[type]||[]);}).catch(function(error){console.error(error);});},[email,startDate,endDate,type]);function formatDate(dateString){var date=new Date(dateString);var month=new Intl.DateTimeFormat('en-US',{month:'short'}).format(date);var day=date.getDate();return\"\".concat(month,\" \").concat(day);}function removeSpendDetail(index){var updatedSpendDetails=_toConsumableArray(spendDetails);var id=updatedSpendDetails[index].id;updatedSpendDetails.splice(index,1);setSpendDetails(updatedSpendDetails);axios.post('https://www.zoelindev.com/moneyCatBackend/remove.php',{id:id}).then(function(response){console.log(response.data);}).catch(function(error){console.error(error);});}useEffect(function(){axios.post('https://www.zoelindev.com/moneyCatBackend/list.php',{email:email,startDate:startDate,endDate:endDate,type:type}).then(function(response){setSpendDetails(response.data[type]||[]);}).catch(function(error){console.error(error);});},[email,startDate,endDate,type]);return/*#__PURE__*/_jsx(\"div\",{children:spendDetails.length>0?/*#__PURE__*/_jsx(\"div\",{children:spendDetails.map(function(_ref2,index){var id=_ref2.id,date=_ref2.date,note=_ref2.note,cost=_ref2.cost;return/*#__PURE__*/_jsxs(\"div\",{children:[formatDate(date),\" \",note,\" \",cost,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeSpendDetail(index);},children:\"Remove\"})]},\"\".concat(id,\"-\").concat(date,\"-\").concat(note,\"-\").concat(cost));})}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No spend details found for \",type,\".\"]})});}export default List;","map":{"version":3,"names":["React","useState","useEffect","axios","List","email","startDate","endDate","type","spendDetails","setSpendDetails","post","then","response","data","catch","error","console","formatDate","dateString","date","Date","month","Intl","DateTimeFormat","format","day","getDate","removeSpendDetail","index","updatedSpendDetails","id","splice","log","length","map","note","cost"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/components/List.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction List({ email, startDate, endDate, type}) {\n    const [spendDetails, setSpendDetails] = useState([]);\n  \n    useEffect(() => {\n      axios.post('https://www.zoelindev.com/moneyCatBackend/list.php', { email, startDate, endDate, type })\n        .then((response) => {\n          setSpendDetails(response.data[type] || []);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    }, [email, startDate, endDate, type]);\n    \n  function formatDate(dateString) {\n    const date = new Date(dateString);\n    const month = new Intl.DateTimeFormat('en-US', { month: 'short' }).format(date);\n    const day = date.getDate();\n    return `${month} ${day}`;\n  }\n\n  function removeSpendDetail(index) {\n    const updatedSpendDetails = [...spendDetails];\n    const id = updatedSpendDetails[index].id;\n    updatedSpendDetails.splice(index, 1);\n    setSpendDetails(updatedSpendDetails);\n\n    axios.post('https://www.zoelindev.com/moneyCatBackend/remove.php', { id })\n      .then((response) => {\n        console.log(response.data);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  useEffect(() => {\n    axios.post('https://www.zoelindev.com/moneyCatBackend/list.php', { email, startDate, endDate, type })\n      .then((response) => {\n        setSpendDetails(response.data[type] || []);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }, [email, startDate, endDate, type]);\n\n  return (\n    <div>\n      {spendDetails.length > 0 ? (\n        <div>\n          {spendDetails.map(({ id, date, note, cost }, index) => (\n            <div key={`${id}-${date}-${note}-${cost}`}>\n              {formatDate(date)} {note} {cost}\n              <button onClick={() => removeSpendDetail(index)}>Remove</button>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p>No spend details found for {type}.</p>\n      )}\n    </div>\n  );\n}\n\nexport default List;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}