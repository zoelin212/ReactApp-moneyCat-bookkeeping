{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/cat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import Header from\"../components/Header\";import{useState,useEffect}from'react';import Open from'../components/Open';import DateRangeForm from\"../components/DateRangeForm\";import axios from\"axios\";import List from\"../components/List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChartSpend=function ChartSpend(props){var sessionEmail=localStorage.getItem(\"email\");var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cost=_useState2[0],setCost=_useState2[1];var _useState3=useState(localStorage.getItem(\"startDate\")),_useState4=_slicedToArray(_useState3,2),startDate=_useState4[0],setStartDate=_useState4[1];var _useState5=useState(localStorage.getItem(\"endDate\")),_useState6=_slicedToArray(_useState5,2),endDate=_useState6[0],setEndDate=_useState6[1];var sessionStartDate=localStorage.getItem(\"startDate\");var sessionEndDate=localStorage.getItem(\"endDate\");console.log(\"session: \"+sessionStartDate+\"to\"+sessionEndDate);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('https://www.zoelindev.com/moneyCatBackend/typelist.php',{email:sessionEmail,startDate:startDate,endDate:endDate});case 3:response=_context.sent;setCost(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[sessionEmail,startDate,endDate]);var handleDateRangeChange=function handleDateRangeChange(startDate,endDate){setStartDate(startDate);setEndDate(endDate);localStorage.setItem(\"startDate\",startDate);localStorage.setItem(\"endDate\",endDate);};return/*#__PURE__*/_jsxs(\"div\",{className:\"chartWrap\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"round3\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Monthly\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"op\",children:[/*#__PURE__*/_jsx(Link,{to:\"/chart_spend\",className:\"chartSpendBtn\",children:\"Spend /\"}),/*#__PURE__*/_jsx(Link,{to:\"/chart_income\",className:\"chartIncomeBtn\",children:\"Income\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsx(DateRangeForm,{email:sessionEmail,onDateRangeChange:handleDateRangeChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"spendDetail\",children:[/*#__PURE__*/_jsx(Open,{title:\"Food\",cost:cost['food'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"food\"})}),/*#__PURE__*/_jsx(Open,{title:\"Home\",cost:cost['home'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"home\"})}),/*#__PURE__*/_jsx(Open,{title:\"Fun\",cost:cost['fun'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"fun\"})}),/*#__PURE__*/_jsx(Open,{title:\"Travel\",cost:cost['travel'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"travel\"})}),/*#__PURE__*/_jsx(Open,{title:\"Health\",cost:cost['health'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"health\"})}),/*#__PURE__*/_jsx(Open,{title:\"Learn\",cost:cost['learn'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"learn\"})}),/*#__PURE__*/_jsx(Open,{title:\"Shop\",cost:cost['shop'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"shop\"})}),/*#__PURE__*/_jsx(Open,{title:\"Lend\",cost:cost['lend'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"lend\"})}),/*#__PURE__*/_jsx(Open,{title:\"Others\",cost:cost['others'],startDate:startDate,endDate:endDate,children:/*#__PURE__*/_jsx(List,{email:sessionEmail,startDate:startDate,endDate:endDate,type:\"others\"})})]})]});};export default ChartSpend;","map":{"version":3,"names":["Link","Header","useState","useEffect","Open","DateRangeForm","axios","List","ChartSpend","props","sessionEmail","localStorage","getItem","cost","setCost","startDate","setStartDate","endDate","setEndDate","sessionStartDate","sessionEndDate","console","log","fetchData","post","email","response","data","error","handleDateRangeChange","setItem"],"sources":["/Users/zoe/Desktop/Independent/cat/my-app/src/pageComponents/Chart_spend.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport { useState, useEffect } from 'react';\nimport Open from '../components/Open';\nimport DateRangeForm from \"../components/DateRangeForm\";\nimport axios from \"axios\";\nimport List from \"../components/List\";\n\nconst ChartSpend = (props) => {\n\n    const sessionEmail = localStorage.getItem(\"email\");\n    const [cost, setCost] = useState({});\n    const [startDate, setStartDate] = useState(localStorage.getItem(\"startDate\"));\n    const [endDate, setEndDate] = useState(localStorage.getItem(\"endDate\"));\n    const sessionStartDate = localStorage.getItem(\"startDate\");\n    const sessionEndDate = localStorage.getItem(\"endDate\");\n    console.log(\"session: \"+sessionStartDate+\"to\"+sessionEndDate);\n\n    useEffect(() => {\n        const fetchData = async () => {\n          try {\n            const response = await axios.post('https://www.zoelindev.com/moneyCatBackend/typelist.php', {\n              email: sessionEmail,\n              startDate: startDate,\n              endDate: endDate\n            });\n            setCost(response.data);\n          } catch (error) {\n            console.error(error);\n          }\n        };\n        fetchData();\n      }, [sessionEmail, startDate, endDate]);\n\n    const handleDateRangeChange = (startDate, endDate) => {\n      setStartDate(startDate);\n      setEndDate(endDate);\n      localStorage.setItem(\"startDate\", startDate);\n      localStorage.setItem(\"endDate\", endDate);\n    }\n    \n\n\n    return (\n        <div className=\"chartWrap\">\n            <Header />\n            <div className=\"round3\"></div>\n            <h2>Monthly</h2>\n\n            <div className=\"op\">\n                <Link to=\"/chart_spend\" className=\"chartSpendBtn\">\n                    Spend /\n                </Link>\n                <Link to=\"/chart_income\" className=\"chartIncomeBtn\">\n                    Income\n                </Link>\n            </div>\n\n            <div className=\"top\">\n                <DateRangeForm email={sessionEmail} onDateRangeChange={handleDateRangeChange} />\n            </div>\n\n            <div className=\"spendDetail\">\n                <Open title=\"Food\" cost={cost['food']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"food\" />\n                </Open>\n                <Open title=\"Home\" cost={cost['home']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"home\" />\n                </Open>\n                <Open title=\"Fun\" cost={cost['fun']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"fun\" />\n                </Open>\n                <Open title=\"Travel\" cost={cost['travel']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"travel\" />\n                </Open>\n                <Open title=\"Health\" cost={cost['health']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"health\" />\n                </Open>\n\n                <Open title=\"Learn\" cost={cost['learn']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"learn\" />\n                </Open>\n                <Open title=\"Shop\" cost={cost['shop']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"shop\" />\n                </Open>\n                <Open title=\"Lend\" cost={cost['lend']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"lend\" />\n                </Open>\n                <Open title=\"Others\" cost={cost['others']} startDate={startDate} endDate={endDate}>\n                    <List email={sessionEmail} startDate={startDate} endDate={endDate} type=\"others\" />\n                </Open>\n            </div>\n        </div>\n    );\n}\n\nexport default ChartSpend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}